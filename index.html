<!DOCTYPE html>
<html>
<head><!-- HTMLã®ãƒ˜ãƒƒãƒ€ -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        h3 { color: white; background-color: blue; }
        body { text-align: center; font-size: 2.5em; }
        button { font-size: 1.0em; width: 7em; margin: 0.1em; }
    </style>
</head>
<body><!-- HTMLã®æœ¬ä½“ -->
    <h3>ã‚¸ãƒ£ãƒ³ã‚±ãƒ³ã§å‹è² </h3>
    <div>
        <div id="disp"></div>
        <div><!-- ã‚¸ãƒ£ãƒ³ã‚±ãƒ³ã®æ‰‹ã®ãƒœã‚¿ãƒ³ -->
            <button mpy-click="check_goo">âœŠã‚°ãƒ¼</button>
            <button mpy-click="check_choki">âœŒãƒãƒ§ã‚­</button>
            <button mpy-click="check_paa">âœ‹ãƒ‘ãƒ¼</button>
        </div>
    </div>
</body>
<!-- PyScriptã®å–ã‚Šè¾¼ã¿ã¨ãƒ—ãƒ­ã‚°ãƒ©ãƒ  -->
<script type="module" src="https://pyscript.net/releases/2025.8.1/core.js"></script>
<script type="mpy">
    import random
    from pyscript import document

    GOO = 0
    CHOKI = 1
    PAA = 2
    HANDS = ["âœŠã‚°ãƒ¼", "âœŒãƒãƒ§ã‚­","âœ‹ãƒ‘ãƒ¼"]
    RESULTS = ["ã‚ã„ã“", "ğŸ˜Šå‹ã¡", "ğŸ˜­è² ã‘"]

    def check_goo(event):
        check(GOO)
    def check_choki(event):
        check(CHOKI)
    def check_paa(event):
        check(PAA)

    def check(user):
        com = random.randint(0,2)
        result = janken(user, com)
        disp = document.getElementById("disp")
        disp.innerHTML = (
            f"ç›¸æ‰‹: {HANDS[com]}<br>"
            f"è‡ªåˆ†: {HANDS[user]}<br><hr>"
            f"åˆ¤å®š: {RESULTS[result]}"
        )


    def janken(user, com):
        # ã‚ã„ã“
        if user==com:
            return 0
        # ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä¾¡å€¤
        if (user==GOO) and (com==CHOKI):
            return 1
        if (user==CHOKI) and (com==PAA):
            return 1
        if (user==PAA) and (com==GOO):
            return 1
        # ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè² ã‘
        return 2

</script>
</html>
